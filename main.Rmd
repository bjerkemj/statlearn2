---
subtitle: "TMA4268 Statistical Learning V2023"
title: "Compulsory Exercise 2: Title (give your project an informative title)"
author: "Torbj√∏rn Vatne, Ludvik Braathen and Johan Bjerkem"
date: "`r format(Sys.time(), '%d %B, %Y')`"
header-includes: \usepackage{amsmath}
output:
  # html_document:
  #   toc: no
  #   toc_depth: '2'
  #   df_print: paged
  pdf_document:
    toc: no
    toc_depth: '2'
urlcolor: blue
abstract: "**This is the place for your abstract (max 350 words).** Heart failure is one of the leading death causes in the world. Cardiovascular 
diseases (CVDs) which in many cases leads to heart failure stands for 
17.9 million deaths yearly. One third of people who suffer a heart attack or
a stroke die prematurely (under the age of 70). (https://www.who.int/health-topics/cardiovascular-diseases#tab=tab_1)

Detecting who is prone to heart failure is therefore an important task for 
society. First and foremost it's important as lives can be saved by early
detection and implementing counter measures. Secondly this is a huge cost to
our society and a burden on our hospitals."
---
  
```{r setup, include=FALSE}
library(knitr)
knitr::opts_chunk$set(echo = TRUE,tidy=TRUE,message=FALSE,warning=FALSE,strip.white=TRUE,prompt=FALSE,
                      cache=TRUE, size="scriptsize",fig.width=4, fig.height=3,fig.align = "center")

```

```{r,eval=TRUE,echo=FALSE}
require("knitr")
require("rmarkdown")
require("ggthemes") #For themes on the plot, as the theme_excel
require("cowplot") #For the plotgrid function which makes several plots in one image
require("GGally")
```

<!--  Etc (load all packages needed). -->







## Introduction: Scope and purpose of your project
```{r, options(width = 50)}
heart <- read.csv("./heart.csv", header = T, stringsAsFactors = T)
kable(head(heart), format = "markdown", align = "c", row.names = FALSE)
```

```{r, echo=FALSE, eval=FALSE}
truncate_colnames <- function(df, max_length = 10) {
  colnames(df) <- sapply(colnames(df), function(x) {
    if (nchar(x) > max_length) {
      paste0(substr(x, 1, max_length - 1), ".")
    } else {
      x
    }
  })
  return(df)
}

data <- heart # Replace this with your data
first_5_rows <- head(data, 5) # Select the first 5 rows

# Truncate column names to a smaller length
first_5_rows <- truncate_colnames(first_5_rows, max_length = 7)

# Render the table without row names (row index)
kable(first_5_rows, format = "markdown", align = "c", row.names = FALSE)
```


```{r summary, echo=FALSE, eval=FALSE}
summary(heart)
```




## Descriptive data analysis/statistics

```{r, fig.width=5}
tema = theme(plot.background = element_rect(fill="#e2e2e2"),
             plot.title = element_text(size=10, hjust=.5),
             axis.title.x = element_text(size=8, color = "black"),
             axis.text.x = element_text(size=6),
             axis.text.y = element_text(size=6))


hist_age <- ggplot(data = heart, mapping = aes(x = Age)) +
    geom_histogram(bins=25, fill = "red", color = "black", linewidth = 1.3) +
    theme_excel() +
    xlab("Age") +
    ylab("") +
    ggtitle("Age Histogram") +
    tema

hist_restbp <- ggplot(data = heart, mapping = aes(x = RestingBP)) +
    geom_histogram(bins=20, fill = "blue", color = "black", linewidth = 1.3) +
    theme_excel() +
    xlab("RestingBP") +
    ylab("") +
    ggtitle("Resting Blood Pressure Histogram") +
    tema

hist_chol <- ggplot(data = heart, mapping = aes(x = Cholesterol)) +
    geom_histogram(bins=20, fill = "green", color = "black", linewidth = 1.3) +
    theme_excel() +
    xlab("Cholesterol") +
    ylab("") +
    ggtitle("Cholesterol Histogram") +
    tema

hist_maxhr <- ggplot(data = heart, mapping = aes(x = MaxHR)) +
    geom_histogram(bins=20, fill = "pink", color = "black", linewidth = 1.3) +
    theme_excel() +
    xlab("Max HR") +
    ylab("") +
    ggtitle("Max Heart Rate Histogram") +
    tema

plot_grid(hist_age, hist_restbp, hist_chol, hist_maxhr, nrow=2, ncol=2)
```

The **age** histogram seems legit and has no unexpected values. Both **resting 
blood pressure** and **cholesterol** seem to have some fishy 0 values. To our
knowledge and research these values are impossible, and seems to be a problem
with the data set. Continuing, the **max hr** plot also look okay, with no 
outliers.


## Methods


## Results and interpretation


## Summary
